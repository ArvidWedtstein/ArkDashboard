import { Link, NavLink, routes, useLocation, useParams } from "@redwoodjs/router";
import clsx from "clsx";
import { memo } from "react";
import { singularize } from "src/lib/formatters";
const Icon = (icon: string) => {

  // FontAwesome Light Icons
  const icons = {
    home: (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 576 512"
        className="h-6 w-6 fill-current stroke-current"
      >
        <path d="M 575.1 256 c 0 -4.435 -1.831 -8.84 -5.423 -12 l -58.6 -51.87 c 0.002 -0.0938 0 0.0938 0 0 l 0.0247 -144.1 c 0 -8.844 -7.156 -15.1 -15.1 -15.1 l -95.1 0.0074 c -8.844 0 -15.1 7.156 -15.1 15.1 L 383.1 79.37 l -85.42 -75.37 c -3.016 -2.656 -6.797 -3.997 -10.58 -3.997 c -3.781 0 -7.563 1.341 -10.58 3.997 L 5.423 244 C 1.831 247.2 0.0005 251.6 0.0005 256 c 0 8.924 7.241 15.99 16.05 15.99 c 3.758 0 7.521 -1.313 10.53 -3.993 l 37.42 -33.02 v 197 c 0 44.12 35.89 79.1 79.1 79.1 h 287.1 c 44.11 0 79.1 -35.87 79.1 -79.1 V 234.1 L 549.4 268 c 3.031 2.688 6.812 3.1 10.58 3.1 C 568.7 271.1 575.1 264.9 575.1 256 z M 415.1 64 h 63.1 v 100.1 l -63.1 -56.47 V 64 z M 479.1 208 v 223.1 c 0 26.47 -21.53 47.1 -47.1 47.1 H 144 c -26.47 0 -47.1 -21.53 -47.1 -47.1 V 208 c 0 -0.377 -0.1895 -0.6914 -0.2148 -1.062 L 288 37.34 l 192.2 169.6 C 480.2 207.3 479.1 207.6 479.1 208 z z v 95.1 z" />
      </svg>
    ),
    basespot: (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        className="h-6 w-6 fill-current stroke-current"
        viewBox="0 0 640 512"
        strokeLinejoin="round"
        strokeLinecap="round"
      >
        <path d="M608 160l-32 .0072c-17.67 0-32 14.32-32 31.99v32l-32 .0058V32c0-17.67-14.33-32-32-32h-40c-17.67 0-32 14.33-32 32v32h-32V32c0-17.67-14.33-32-32-32h-48c-17.67 0-32 14.33-32 32v32h-32V32c0-17.67-14.33-32-32-32H160C142.3 0 128 14.33 128 32v192L96 224V192c0-17.67-14.33-31.99-32-31.99L32 160C14.33 160 0 174.3 0 192v256c0 35.35 28.65 64 64 64h512c35.35 0 64-28.65 64-64V192C640 174.3 625.7 160 608 160zM160 32h40v64h96V32h48v64h96V32H480v192H160V32zM384 480H256v-95.99c0-35.29 28.71-64 64-64s64 28.71 64 64V480zM608 448c0 17.64-14.36 32-32 32h-160v-96c0-53.02-42.98-96-96-96s-96 42.98-96 96v96H64c-17.64 0-32-14.36-32-32V192h32v64h512V192h32V448z" />
      </svg>
    ),
    calculator: (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 512 512"
        className="h-6 w-6 fill-current stroke-current"
      >
        <path d="M336 128H384v48c0 8.844 7.156 16.04 16 16.04S416 184.8 416 176V128h48C472.8 128 480 120.9 480 112S472.8 96 464 96H416V48c0-8.844-7.156-15.96-16-15.96S384 39.16 384 48V96h-48C327.2 96 320 103.2 320 112S327.2 128 336 128zM168.6 343.4c-6.254-6.254-16.37-6.254-22.63 0L112 377.4l-33.94-33.94c-6.254-6.254-16.37-6.254-22.63 0s-6.254 16.37 0 22.63L89.37 400l-33.94 33.94c-6.254 6.254-6.254 16.37 0 22.63s16.37 6.254 22.63 0L112 422.6l33.94 33.94c6.254 6.254 16.37 6.254 22.63 0s6.254-16.37 0-22.63L134.6 400l33.94-33.94C174.8 359.8 174.8 349.7 168.6 343.4zM48 128h128C184.8 128 192 120.8 192 112S184.8 96 176 96h-128C39.16 96 32 103.2 32 112S39.16 128 48 128zM496 240h-224v-224C272 7.156 264.8 0 256 0S240 7.156 240 16v224h-224C7.156 240 0 247.2 0 256s7.156 16 16 16h224v224c0 8.844 7.156 16 16 16s16-7.156 16-16v-224h224C504.8 272 512 264.8 512 256S504.8 240 496 240zM464 416h-128c-8.844 0-16 7.156-16 16s7.156 16 16 16h128c8.844 0 16-7.156 16-16S472.8 416 464 416zM464 352h-128c-8.844 0-16 7.156-16 16s7.156 16 16 16h128c8.844 0 16-7.156 16-16S472.8 352 464 352z" />
      </svg>
    ),
    gtw: (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 512 512"
        className="h-6 w-6 fill-current stroke-current"
      >
        <path d="M278.1 128H229.7C200.1 128 176 152.1 176 181.6c0 8.844 7.156 16 16 16s16-7.156 16-16C208 169.7 217.7 160 229.7 160h48.47C292.4 160 304 171.6 304 185.9c0 9.875-5.469 18.75-14.53 23.27L248.6 230.3C243.3 233.1 240 238.6 240 244.5V272C240 280.8 247.2 288 256 288s16-7.156 16-16V254.3l32-16.61c19.75-9.875 32-29.76 32-51.82C336 153.9 310 128 278.1 128zM256 312c-11.04 0-20 8.953-20 20C236 343 244.1 352 256 352s20-8.955 20-20C276 320.1 267 312 256 312zM256 31.1c-141.4 0-255.1 93.13-255.1 208c0 47.63 19.91 91.25 52.91 126.3c-14.87 39.5-45.87 72.88-46.37 73.25c-6.623 7-8.373 17.25-4.623 26C5.816 474.3 14.38 480 24 480c61.49 0 109.1-25.75 139.1-46.25c28.1 9 60.16 14.25 92.9 14.25c141.4 0 255.1-93.13 255.1-208S397.4 31.1 256 31.1zM256 416c-28.25 0-56.24-4.25-83.24-12.75c-9.516-3.068-19.92-1.461-28.07 4.338c-22.1 16.25-58.54 35.29-102.7 39.66c11.1-15.12 29.75-40.5 40.74-69.63l.1289-.3398c4.283-11.27 1.791-23.1-6.43-32.82C47.51 313.1 32.06 277.6 32.06 240c0-97 100.5-176 223.1-176c123.5 0 223.1 79 223.1 176S379.5 416 256 416z" />
      </svg>
    ),
    tribes: (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        className="h-6 w-6 fill-current stroke-current"
        viewBox="0 0 640 512"
      >
        <path d="M319.9 320c57.41 0 103.1-46.56 103.1-104c0-57.44-46.54-104-103.1-104c-57.41 0-103.1 46.56-103.1 104C215.9 273.4 262.5 320 319.9 320zM319.9 144c39.68 0 71.96 32.3 71.96 72S359.5 288 319.9 288S247.9 255.7 247.9 216S280.2 144 319.9 144zM369.9 352H270.1C191.6 352 128 411.7 128 485.3C128 500.1 140.7 512 156.4 512h327.2C499.3 512 512 500.1 512 485.3C512 411.7 448.4 352 369.9 352zM160.2 480c3.021-53.41 51.19-96 109.1-96H369.9c58.78 0 106.9 42.59 109.1 96H160.2zM512 160c44.18 0 80-35.82 80-80S556.2 0 512 0c-44.18 0-80 35.82-80 80S467.8 160 512 160zM512 32c26.47 0 48 21.53 48 48S538.5 128 512 128s-48-21.53-48-48S485.5 32 512 32zM128 160c44.18 0 80-35.82 80-80S172.2 0 128 0C83.82 0 48 35.82 48 80S83.82 160 128 160zM128 32c26.47 0 48 21.53 48 48S154.5 128 128 128S80 106.5 80 80S101.5 32 128 32zM561.1 192H496c-11.16 0-22.08 2.5-32.47 7.438c-7.984 3.797-11.39 13.34-7.594 21.31s13.38 11.39 21.31 7.594C483.3 225.5 489.6 224 496 224h65.08C586.1 224 608 246.7 608 274.7V288c0 8.844 7.156 16 16 16S640 296.8 640 288V274.7C640 229.1 604.6 192 561.1 192zM162.8 228.3c7.938 3.797 17.53 .375 21.31-7.594c3.797-7.969 .3906-17.52-7.594-21.31C166.1 194.5 155.2 192 144 192H78.92C35.41 192 0 229.1 0 274.7V288c0 8.844 7.156 16 16 16S32 296.8 32 288V274.7C32 246.7 53.05 224 78.92 224H144C150.4 224 156.7 225.5 162.8 228.3z" />
      </svg>
    ),
    story: (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 640 512"
        className="h-6 w-6 fill-current stroke-current"
      >
        <path d="M633.6 243.2l-96-72c-7.031-5.281-17.06-3.891-22.41 3.203c-5.281 7.062-3.844 17.09 3.219 22.39L576 240H368V125.7C395.6 118.6 416 93.79 416 64c0-35.34-28.65-64-64-64C316.7 0 288 28.66 288 64c0 29.79 20.44 54.6 48 61.74V240h-192V125.7C171.6 118.6 192 93.79 192 64c0-35.34-28.65-64-64-64C92.65 0 64 28.66 64 64c0 29.79 20.44 54.6 48 61.74V240h-96C7.156 240 0 247.2 0 256s7.156 16 16 16h192v114.3C180.4 393.4 160 418.2 160 448c0 35.34 28.65 64 64 64c35.35 0 64-28.66 64-64c0-29.79-20.45-54.6-48-61.74V272h336l-57.6 43.2c-7.062 5.297-8.5 15.33-3.219 22.39C518.3 341.8 523.2 344 528 344c3.344 0 6.719-1.047 9.594-3.203l96-72C637.6 265.8 640 261 640 256S637.6 246.2 633.6 243.2zM320 64c0-17.64 14.36-32 32-32s32 14.36 32 32s-14.36 32-32 32S320 81.64 320 64zM96 64c0-17.64 14.36-32 32-32s32 14.36 32 32S145.6 96 128 96S96 81.64 96 64zM256 448c0 17.64-14.36 32-32 32s-32-14.36-32-32s14.36-32 32-32S256 430.4 256 448z" />
      </svg>
    ),
    dinos: (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 640 512"
        className="h-6 w-6 fill-current stroke-current"
      >
        <path d="M528 248c-8.875 0-16 7.125-16 16s7.125 16 16 16S544 272.9 544 264S536.9 248 528 248zM619 179l-47.88-17.5C524.4 144.4 523.5 144 513.3 144C484.9 144 460 162.3 451.5 188.4l-1.25 4.5C395 199.6 352 246.9 352 304v72C352 398 333.1 416 312 416c-22 0-40-18-40-40v-240C272 61 211 0 136 0S0 61 0 136v223.5c0 43.63 5.375 84.5 17 128.6C20.75 502.3 33.5 512 48 512s27.25-9.75 31-23.88C90.63 444 96 403.1 96 359.5V136C96 114 113.1 96 136 96C157.1 96 176 114 176 136v240C176 451 237 512 312 512S448 451 448 376V304c0-4.125 1.625-7.875 4.125-10.75C461.6 318.9 485.8 336 512 336c11.38 0 12.5-.375 59.13-17.5L619 301C631.6 296.4 640 284.5 640 271.2V209C640 195.6 631.6 183.6 619 179zM608 271C520 303.1 519.3 304 513.3 304H512c-13.38 0-25.75-9.125-30-22.25L474.4 256H464C437.5 256 416 277.5 416 304v72C416 433.4 369.4 480 312 480S208 433.4 208 376v-240C208 96.25 175.8 64 136 64S64 96.25 64 136v223.5C64 401.5 58.63 439.6 48 480C37.38 439.6 32 401.5 32 359.5V136C32 78.63 78.63 32 136 32S240 78.63 240 136v240C240 415.8 272.3 448 312 448S384 415.8 384 376V304C384 259.9 419.9 224 464 224h10.38l7.625-25.75C486.3 185.1 498.6 176 512 176h1.25C519.3 176 520 176.9 608 209V271zM528 232c8.875 0 16-7.125 16-16s-7.125-16-16-16S512 207.1 512 216S519.1 232 528 232z" />
      </svg>
    )
  };
  return icons[icon.toLowerCase()] || null;
};

const Sidebar = memo(({ }) => {
  const { pathname } = useLocation();
  const navigation = [
    { name: "Home", href: routes.home(), color: "ring-pea-500 bg-pea-500" },
    {
      name: "Basespot",
      href: routes.basespots({ page: 1 }),
      color: "ring-blue-500 bg-blue-500",
    },
    {
      name: "Calculator",
      href: routes.materialCalculator(),
      color: "ring-red-500 bg-red-500",
    },
    { name: "GTW", href: routes.gtw(), color: "ring-lime-300 bg-lime-500" },
    { name: "Tribes", href: routes.tribes(), color: "ring-emerald-300 bg-emerald-500" },
    { name: "Story", href: routes.timelines(), color: "ring-sky-200 bg-sky-400" },
    { name: "Dinos", href: routes.dinos(), color: "ring-indigo-300 bg-indigo-500" },
  ];

  return (
    <nav className="">
      <div className="flex flex-row items-center justify-between rounded-2xl px-10 py-2 max-sm:border-b sm:flex-col sm:justify-center sm:border-r sm:py-10 sm:px-2">
        {navigation.map((item) => (
          <NavLink
            key={item.name}
            to={item.href}
            title={item.name}
            activeClassName={`text-white ring-2 ${item.color}`}
            className={clsx("mx-2 flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-xl outline-none duration-100 hover:text-white sm:my-4 ring-1 ring-transparent", {
              "bg-[#1f1c2ecc] text-[#dddddd] dark:bg-[#c3cff433] dark:text-[#ffffffcc] hover:ring-white": singularize(item.href.split("?")[0]) !== singularize(pathname),
            })}
          >
            {Icon(item.name)}
          </NavLink>
        ))}
      </div>
    </nav>
  );
});

export default Sidebar;
